<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Big News!</title>
    <style>
        :root {
            --bg-color: #0f0f2a;
        }
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            background-color: var(--bg-color);
            background-image: radial-gradient(circle at center, #2b1e4e 0%, #0f0f2a 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* --- BACKGROUND --- */
        #universe-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1; overflow: hidden;
        }
        .floater {
            position: absolute; bottom: -50px;
            animation: floatUp linear infinite;
            opacity: 0.6;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.3));
        }
        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
        }

        /* --- STAGE LAYOUT --- */
        #stage {
            position: relative;
            width: 100%;
            max-width: 800px; /* Wider stage to prevent cramping */
            height: 450px;
            z-index: 10;
        }

        /* Common Actor Styles */
        .emoji {
            position: absolute;
            bottom: 30px;
            font-size: 80px; /* Base size */
            transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy transition */
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.4));
            transform-origin: bottom center;
            width: 100px; /* Fixed width box to easier calculate centers */
            text-align: center;
            line-height: 1;
        }

        /* --- LAYERS --- */
        
        /* Layer 1: The House & Cars (Background) */
        #house-group {
            position: absolute;
            bottom: 90px; /* Slightly higher perspective */
            left: 50%;
            transform: translateX(-50%);
            width: 1px; height: 1px;
            z-index: 5;
        }

        #house {
            font-size: 170px;
            position: absolute;
            bottom: 0; left: 50%;
            transform: translateX(-50%) scale(0);
            z-index: 6;
        }

        .car {
            font-size: 60px;
            position: absolute;
            bottom: 0;
            z-index: 5;
            transform: scale(0);
            transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        #bmw { left: 50%; transform: translate(-50%, 0) scale(0); }
        #mini { left: 50%; transform: translate(-50%, 0) scale(0); }

        /* Layer 2: The Couple (Foreground) */
        #woman { 
            left: -150px; /* Start far left */
            z-index: 20; 
        }
        #man { 
            right: -150px; /* Start far right */
            z-index: 20; 
        }

        /* Layer 3: The Heart */
        #final-heart {
            font-size: 50px;
            left: 50%;
            bottom: 120px;
            transform: translateX(-50%) scale(0);
            z-index: 30;
        }
        .heart-beat { animation: beat 1s infinite; }
        @keyframes beat {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.2); }
        }

        /* --- POSITIONS (Fixing Overlap) --- */
        
        /* 1. Meeting Distance (Far apart) */
        .meet-left { left: calc(50% - 150px) !important; } 
        .meet-right { right: calc(50% - 150px) !important; }

        /* 2. Cozy Distance (Near each other, but NOT overlapping) */
        /* Center is 50%. 
           Emoji box is 100px.
           Setting 'left' to calc(50% - 100px) puts the left edge 100px from center.
           This leaves enough gap for the bodies.
        */
        .cozy-left { left: calc(50% - 110px) !important; }
        .cozy-right { right: calc(50% - 110px) !important; }

        /* 3. Pregnant Size Adjustment */
        .pregnant-mode {
            /* Scale up significantly to match man's face size */
            transform: scale(1.3) !important; 
            bottom: 30px !important;
        }
        
        /* 4. Car Parking Spots (Wider to frame the couple) */
        .park-bmw { 
            transform: translate(-190px, 10px) scale(1) !important; 
        }
        .park-mini { 
            transform: translate(140px, 10px) scale(1) !important; 
        }

        /* 5. House Visible */
        .house-visible { transform: translateX(-50%) scale(1) !important; }

        /* Pop Animation for Reveal */
        .pop-anim { animation: pop 0.4s ease-out; }
        @keyframes pop { 50% { transform: scale(1.6); } }

        /* --- TEXT --- */
        #text-container {
            z-index: 50;
            min-height: 60px;
            margin-bottom: 40px;
            text-align: center;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
            font-size: 1.6rem;
            font-weight: bold;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s, transform 0.8s;
        }
        .text-show { opacity: 1 !important; transform: translateY(0) !important; }

        /* --- CONFETTI --- */
        .confetti { position: absolute; width: 8px; height: 8px; top: -10px; z-index: 40; }

    </style>
</head>
<body>

    <div id="universe-container"></div>

    <div id="stage">
        <div id="house-group">
            <div id="bmw" class="car">üöô</div>
            <div id="house" class="emoji">üè°</div>
            <div id="mini" class="car">üöó</div>
        </div>

        <div id="final-heart" class="emoji">üíñ</div>
        <div id="woman" class="emoji">üë©üèª</div>
        <div id="man" class="emoji">üë®üèº</div>
    </div>

    <div id="text-container"></div>

    <script>
        // --- 1. UNIVERSE BACKGROUND ---
        const universe = document.getElementById('universe-container');
        const icons = ['üê±', 'üê∂', '‚ú®', '‚ù§Ô∏è', 'ü¶¥', 'üêà', 'üåü', 'üê©', 'üêæ', 'üí´', 'üåô'];
        
        function initUniverse() {
            for(let i=0; i<50; i++) {
                const el = document.createElement('div');
                el.classList.add('floater');
                el.innerText = icons[Math.floor(Math.random() * icons.length)];
                el.style.left = Math.random() * 100 + 'vw';
                el.style.fontSize = (Math.random() * 25 + 10) + 'px';
                el.style.animationDuration = (Math.random() * 10 + 10) + 's';
                el.style.animationDelay = (Math.random() * -20) + 's';
                universe.appendChild(el);
            }
        }

        // --- 2. STORY ENGINE ---
        const woman = document.getElementById('woman');
        const man = document.getElementById('man');
        const house = document.getElementById('house');
        const bmw = document.getElementById('bmw');
        const mini = document.getElementById('mini');
        const heart = document.getElementById('final-heart');
        const txt = document.getElementById('text-container');

        const wait = ms => new Promise(r => setTimeout(r, ms));

        function setText(str) {
            txt.classList.remove('text-show');
            setTimeout(() => {
                txt.innerText = str;
                txt.classList.add('text-show');
            }, 500);
        }

        async function playStory() {
            initUniverse();
            await wait(500);

            // Act 1: Meeting
            setText("It started with just the two of you...");
            woman.classList.add('meet-left');
            man.classList.add('meet-right');
            await wait(2500);

            // Act 2: Love
            setText("Love brought you closer together...");
            // Move to center, but keep gap
            woman.classList.remove('meet-left');
            man.classList.remove('meet-right');
            woman.classList.add('cozy-left');
            man.classList.add('cozy-right');
            await wait(2000);

            // Act 3: The Reveal
            setText("And created a precious miracle...");
            await wait(500);
            
            // Pop Effect & Swap
            woman.classList.add('pop-anim');
            
            setTimeout(() => {
                woman.innerText = "ü§∞üèª"; // Change to pregnant
                woman.classList.add('pregnant-mode'); // Apply Scale Up
                explodeConfetti(100);
            }, 200);
            
            await wait(2500);

            // Act 4: The Life (House & Cars)
            setText("Building a beautiful life together.");
            
            // House grows BEHIND them
            house.classList.add('house-visible');
            await wait(800);
            
            // Cars animate out from behind house
            bmw.classList.add('park-bmw');
            await wait(200);
            mini.classList.add('park-mini');
            await wait(2000);

            // Act 5: Finale
            setText("Congratulations on your growing family! ‚ù§Ô∏è");
            
            // Heart appears exactly between them above heads
            heart.style.transform = "translateX(-50%) scale(1)";
            heart.classList.add('heart-beat');
            
            explodeConfetti(300);
        }

        // --- 3. CONFETTI SYSTEM ---
        function explodeConfetti(amount) {
            const colors = ['#FF69B4', '#FFD700', '#87CEEB', '#FF4500', '#32CD32'];
            for(let i=0; i<amount; i++) {
                const c = document.createElement('div');
                c.classList.add('confetti');
                c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
                
                // Start from center
                c.style.left = "50%";
                c.style.top = "40%";
                
                document.body.appendChild(c);

                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 100 + 50;
                
                // Spread confetti across screen
                const tx = Math.cos(angle) * (window.innerWidth/1.2);
                const ty = Math.sin(angle) * (window.innerHeight/1.2);

                c.animate([
                    { transform: 'translate(0,0) rotate(0deg)', opacity: 1 },
                    { transform: `translate(${tx}px, ${ty}px) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 2000 + 1500,
                    easing: 'cubic-bezier(0.25, 1, 0.5, 1)'
                }).onfinish = () => c.remove();
            }
        }

        window.onload = playStory;

    </script>
</body>
</html>
